# vim:syntax=apparmor
# Last Modified: Tue Jun 09 14:34:12 2009
# Author: Kees Cook <kees@canonical.com>
#         Jamie Strandboge <jamie@canonical.com>

#include <tunables/global>

/home/benchmarker/scipy-bench-setup/bin/run-cmd-user {
  #include <abstractions/base>
  #include <abstractions/nameservice>
  #include <abstractions/python>

  # allow
  /home/benchmarker/scipy-bench-setup/bin/run-cmd-user r,
  /home/benchmarker/scipy-bench-setup/hostname r,

  # allowed points
  /home/benchmarker/scipy-bench-setup/var/ rw,
  /home/benchmarker/scipy-bench-setup/var/** rwklmix,
  /home/benchmarker/scipy-bench-setup/doc/ rw,
  /home/benchmarker/scipy-bench-setup/doc/** rw,
  /home/benchmarker/scipy-bench-setup/html/ rw,
  /home/benchmarker/scipy-bench-setup/html/** rw,
  /home/benchmarker/scipy-bench-setup/results/ rw,
  /home/benchmarker/scipy-bench-setup/results/** rw,
  /home/benchmarker/scipy-bench-setup/scipy-bench/results/ rw,
  /home/benchmarker/scipy-bench-setup/scipy-bench/results/** rw,

  /etc/mime.types r,

  /usr/local/lib/f90cache/ r,
  /usr/local/lib/f90cache/** rmix,
  /usr/lib/ccache/ r,
  /usr/lib/ccache/** rmix,

  /usr/include/ r,
  /usr/include/** r,

  /usr/share/python-wheels/ r,
  /usr/share/python-wheels/** r,

  /usr/bin/ r,
  /usr/bin/* rmix,
  /bin/* rmix,
  /usr/lib/** rmix,
  /lib/** rmix,

  /proc/*/status r,
  /proc/*/auxv r,
  /proc/*/cmdline r,
  /proc/*/environ r,
  /proc/*/mem rw,
  /proc/*/task/ r,
  /proc/*/task/** r,
  /proc/*/task/*/comm rw,
  /proc/version r,
  /proc/modules r,
}
